<html>

<head>
    <style type="text/css">
        body {
            background-color: #f2f2e2;
            /*background-image: /Users/home/Academia/IDIA 619/MasterMind;*/
        }
        
        input[type=text] {
            width: 50px;
            border-radius: 2px;
        }
        
        input[type=button] {
            border-radius: 50%;
            font-size: 15px;
            /*background-color: yellow;*/
        }
        
        p {
            font-family: 'Dancing Script', cursive;
        }
        
        table {
            border-radius: 1px;
            /*border-style: solid;*/
        }
        
        tr {
            column-width: 100px;
        }
        
        h1 {
            font-family: 'Roboto', sans-serif;
            text-align: center;
        }
        
        h4 {
            font-family: 'Grand Hotel', cursive;
            text-align: right;
        }
        
        .submit {
            background-color: #42f4a4
        }
        
        .reset {
            background-color: #f4af41
        }

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type="text/javascript">
        var correctAnswer1 = Math.floor(Math.random() * 10); //this will generate random numbers from 0 to 10
        var correctAnswer2 = Math.floor(Math.random() * 10);
        var correctAnswer3 = Math.floor(Math.random() * 10);
        var correctAnswer4 = Math.floor(Math.random() * 10);
        var i = 0;
        var counter = 0;

        $(document).ready(function() { //changed the window.load function to document ready function in JQuery.
            //var button = document.getElementById("guess");
            $("#guess").click(function() { // changed the function initiation
                counter++;
                j = i * 4;
                //This if loop checks if all the entries entered are correct and highlights the row if they match.
                if ($("#" + "v" + (j + 1)).val() == correctAnswer1 &&
                    $("#" + "v" + (j + 2)).val() == correctAnswer2 &&
                    $("#" + "v" + (j + 3)).val() == correctAnswer3 &&
                    $("#" + "v" + (j + 4)).val() == correctAnswer4) {
                    $("#" + "t" + counter).css("background-color", "#48f442");
                    $("#" + "v" + (j + 1)).css("background-color", "#48f442");
                    $("#" + "v" + (j + 2)).css("background-color", "#48f442");
                    $("#" + "v" + (j + 3)).css("background-color", "#48f442");
                    $("#" + "v" + (j + 4)).css("background-color", "#48f442");
                    $("#output").html("<b>You have guessed my hidden code in" + " " + counter + " " + "guesses. You are a MasterMind !!!</b>")
                    $("#mainPage").css("background-color", "#e2f442");
                } else {
                    if (i == 9) {
                        $("#output").html("<b>You couldn't guess my code in 10 attempts. Better luck next time.")
                        $("#mainPage").css("background-color", "#f46e41");
                    }
                    console.log(" before calling function in else:" + correctAnswer1 + correctAnswer2 + correctAnswer3 + correctAnswer4);
                    checkTheGuess(j);
                    i = i + 1;
                }
            });
        });

        function checkTheGuess(x) {
            //This is the main function that checks the guess entered by the particiapnt
            //console.log("x="+x);
            var g1 = document.getElementById("v" + (x + 1)).value;
            var g2 = document.getElementById("v" + (x + 2)).value;
            var g3 = document.getElementById("v" + (x + 3)).value;
            var g4 = document.getElementById("v" + (x + 4)).value;


            if (g1 == correctAnswer1) {
                $("#" + "v" + (x + 1)).css("background-color", "#48f442");
            } else if ((g1 != correctAnswer1) && (g1 == correctAnswer2 || g1 == correctAnswer3 || g1 == correctAnswer4)) {
                $("#" + "v" + (x + 1)).css("background-color", "#41d9f4");
            } else {}

            if (g2 == correctAnswer2) {
                $("#" + "v" + (x + 2)).css("background-color", "#48f442");
            } else if ((g2 != correctAnswer2) && (g2 == correctAnswer1 || g2 == correctAnswer3 || g2 == correctAnswer4)) {
                $("#" + "v" + (x + 2)).css("background-color", "#41d9f4");
            } else {}

            if (g3 == correctAnswer3) {
                $("#" + "v" + (x + 3)).css("background-color", "#48f442");
            } else if ((g3 != correctAnswer3) && (g3 == correctAnswer1 || g3 == correctAnswer2 || g3 == correctAnswer4)) {
                $("#" + "v" + (x + 3)).css("background-color", "#41d9f4");
            } else {}

            if (g4 == correctAnswer4) {
                $("#" + "v" + (x + 4)).css("background-color", "#48f442");
            } else if ((g4 != correctAnswer4) && (g4 == correctAnswer1 || g4 == correctAnswer2 || g4 == correctAnswer3)) {
                $("#" + "v" + (x + 4)).css("background-color", "#41d9f4");
            } else {}
        }

    </script>
</head>

<body id="mainPage">
    <h1>Welcome to MasterMind</h1>
    <h3 align="center"><em>About the game</em></h3>
    <p align="center"><em>The objective of the game is to correctly guess the set of four hidden numbers that are randomly chosen for each game. The set may occasionally contain same numbers: 2-3-1-2 for example.
<br>You get hints either when you choose the correct number and/or when the correct number is in the correct position.
<br>Blue - Correct Number but Wrong Position
<br>Green - Correct Number and Correct position</em></p>

    <! This is the table where participant enters their guess-->
    <table align="center">
        <tr id="t1" display="block">
            <td>Turn 1</td>
            <td>
                <input type="text" id="v1">
                <input type="text" id="v2">
                <input type="text" id="v3">
                <input type="text" id="v4">
            </td>
        </tr>

        <tr id="t2">
            <td>Turn 2</td>
            <td>
                <input type="text" id="v5">
                <input type="text" id="v6">
                <input type="text" id="v7">
                <input type="text" id="v8">
            </td>
        </tr>

        <tr id="t3">
            <td>Turn 3</td>
            <td>
                <input type="text" id="v9">
                <input type="text" id="v10">
                <input type="text" id="v11">
                <input type="text" id="v12">
            </td>
        </tr>

        <tr id="t4">
            <td>Turn 4</td>
            <td>
                <input type="text" id="v13">
                <input type="text" id="v14">
                <input type="text" id="v15">
                <input type="text" id="v16">
            </td>
        </tr>

        <tr id="t5">
            <td>Turn 5</td>
            <td>
                <input type="text" id="v17">
                <input type="text" id="v18">
                <input type="text" id="v19">
                <input type="text" id="v20">
            </td>
        </tr>

        <tr id="t6">
            <td>Turn 6</td>
            <td>
                <input type="text" id="v21">
                <input type="text" id="v22">
                <input type="text" id="v23">
                <input type="text" id="v24">
            </td>
        </tr>

        <tr id="t7">
            <td>Turn 7</td>
            <td>
                <input type="text" id="v25">
                <input type="text" id="v26">
                <input type="text" id="v27">
                <input type="text" id="v28">
            </td>
        </tr>

        <tr id="t8">
            <td>Turn 8</td>
            <td>
                <input type="text" id="v29">
                <input type="text" id="v30">
                <input type="text" id="v31">
                <input type="text" id="v32">
            </td>
        </tr>

        <tr id="t9">
            <td>Turn 9</td>
            <td>
                <input type="text" id="v33">
                <input type="text" id="v34">
                <input type="text" id="v35">
                <input type="text" id="v36">
            </td>
        </tr>

        <tr id="t10">
            <td>Turn 10</td>
            <td>
                <input type="text" id="v37">
                <input type="text" id="v38">
                <input type="text" id="v39">
                <input type="text" id="v40">
            </td>
        </tr>

    </table>

    <table align="center">
        <tr>
            <td>
                <input type="button" id="guess" value="Guess" class="button submit">
                <input type="button" id="reset" value="Reset" class="button reset" onclick="window.location.reload()">
            </td>
        </tr>
    </table>
    <br>
    <h4> - Rakesh Arvapalli</h4>
    <br>
    <div id="output" align="center"></div>

</body>

</html>
